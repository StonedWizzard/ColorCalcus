<Window x:Class="ColorCalcus.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:sys="clr-namespace:System.Globalization;assembly=mscorlib"
        xmlns:local="clr-namespace:ColorCalcus"
        mc:Ignorable="d"
        Title="ColorCalcus" 
        Height="450" Width="800"
        MinHeight="450" MinWidth="800">

    <DockPanel>
        <ToolBar DockPanel.Dock="Top" Padding="5" Background="#EEE" FontSize="14" FontWeight="Bold" FontFamily="Carlito">
            <Button Content="➕ Добавить шаг" Margin="2" Click="BtnAddStep_Click"/>
            <Button Content="➖ Убрать шаг" Margin="2" Click="BtnRemoveStep_Click"/>
            
            <Separator Margin="10, 0"/>
            <Label Content="Вычитать на выкрас:" VerticalAlignment="Center"/>
            <xctk:DoubleUpDown x:Name="StepDecreaseValueBox" CultureInfo="{x:Static sys:CultureInfo.InvariantCulture}"
                Width="80" Margin="5" Value="0.0" Increment="1" Minimum="0" FormatString="0.00"/>

            <Separator Margin="10, 0"/>
            <Button Content="🎨 Добавить палитру" Margin="2" Click="BtnAddColor_Click"/>
            <Button Content="❌ Убрать палитру" Margin="2" Click="BtnRemoveColor_Click"/>
            <Button x:Name="BtnToggleIntermediate" Content="📉 Промежуточные расчёты" Margin="2" Click="BtnToggleIntermediate_Click"/>

            <Separator Margin="20, 0"/>
            <Button Content="📋 Копировать" Margin="2" Click="CopyGridButton_Click"/>
            <Button Content="🗑 Очистить" Margin="2" Click="BtnClear_Click"/>
        </ToolBar>

        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <DataGrid x:Name="ResultGrid" FontSize="14" AutoGenerateColumns="False"
                CanUserAddRows="False" CanUserDeleteRows="False" CanUserSortColumns="False">
                <DataGrid.RowStyle>
                    <Style TargetType="DataGridRow">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsSystem}" Value="True">
                                <Setter Property="FontWeight" Value="Bold"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>                    
                </DataGrid.RowStyle>

                <DataGrid.Resources>
                    <Style TargetType="DataGridCell">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsSystem}" Value="True">
                                <Setter Property="IsEnabled" Value="False"/>
                                <Setter Property="Background" Value="#FFF5F5F5"/>
                                <Setter Property="Foreground" Value="Black"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.Resources>
            </DataGrid>
        </ScrollViewer>
    </DockPanel>
</Window>
